!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){t.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var $=__webpack_require__(0),crud_sk_1=__webpack_require__(2),$crud=new crud_sk_1.CrudRequest;jQuery.crud=function(){return $crud},jQuery.fn.smoothSubmit=function(t){return $.each(this,function(){this.smoothSubmitOptions=t}),this},$(document).on("submit click",".smooth-submit",function(e){e.preventDefault();var target=e.currentTarget,options=__assign({},target.smoothSubmitOptions),action=options.action,type=options.type,preConfirm=options.preConfirm,crudOptions=options.crudOptions,data;switch($(target).prop("tagName").toLowerCase()){case"form":action=$(target).attr("action")||action,type="post",data=new FormData(target);break;case"a":case"button":action=$(target).attr("href")||action,type=$(target).attr("method")||type,data=eval("("+$(target).attr("params")+")")}var confirmPromise=$.Deferred();preConfirm?preConfirm(target,data).then(confirmPromise.resolve,confirmPromise.reject):confirmPromise.resolve(),confirmPromise.promise().then(function(){$crud.send(__assign({checkDataType:!1,notify:!1},crudOptions,{url:action,method:type,data:data})).then(function(t){$(target).trigger("aftersubmit",[t])})})})},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r(0)),c=i(r(3)),s=function(t,e,r){!c.isObject(e)||e instanceof File||e instanceof Blob?r&&t.append(r,e):c.each(e,function(e,n){s(t,e,r?r+"["+n+"]":n)})};FormData.prototype.merge=function(t){return s(this,t),this};var u=function(){function t(){this.$config={baseUrl:"",callbacks:{notify:function(t){alert(t.message)},checkSuccess:function(t){return"success"===t.type}}}}return t.prototype.send=function(t){var e=this;return new Promise(function(r,o){var i=n({checkDataType:!0,notify:!0},e.$config,t),c=i.data,s=i.callbacks,u=i.method,p=i.baseUrl,f=i.url,l=i.redirectTo,d=i.showProgress,m=i.prefix,y=void 0===m?"":m,h=i.checkDataType,g=i.reload,_=s.loading,b=s.reload,v=s.redirect,O=s.checkSuccess,j=s.notify,k=n({},i.ajaxOptions,{success:function(t){if(d&&_&&_(!1),"get"!==u.toLowerCase()&&O){if(O){h&&O(t)?(r(t),l&&v&&v(l,t)||g&&b&&b()):h?o(t):r(t);var e={type:t.type,message:t.message};i.notify&&j&&j(e)}}else r(t)},error:function(t){d&&_&&_(!1);var e={type:"error"};e.message=t.status+": "+t.statusText,i.notify&&j&&j(e),o(t)}});if(k.type=u,k.url=p+y+f,"post"!==u.toLowerCase()||c instanceof FormData)k.data=c;else{var $=(new FormData).merge(c);k.data=$}k.data instanceof FormData&&(k.type="post",k.cache=!1,k.processData=!1,k.contentType=!1),d&&_&&_(!0),a.default.ajax(k)})},t.prototype.create=function(t,e,r){return this.send(n({method:"post",prefix:"create/"},r,{url:t,data:e}))},t.prototype.update=function(t,e,r){return this.send(n({method:"post",prefix:"update/"},r,{url:t,data:e}))},t.prototype.delete=function(t,e,r){return this.send(n({method:"post",prefix:"delete/"},r,{url:t,data:e}))},t.prototype.retrieve=function(t,e,r){return this.send(n({method:"get",prefix:"retrieve/",checkDataType:!1,notify:!1},r,{url:t,data:e}))},t.prototype.alert=function(t){return this.$config.callbacks.alert(t)},t.prototype.confirm=function(t){return this.$config.callbacks.confirm(t)},t.prototype.prompt=function(t){return this.$config.callbacks.prompt(t)},t.prototype.dialog=function(t,e){return this.$config.callbacks.dialog(t,e)},t.prototype.notify=function(t){this.$config.callbacks.notify(t)},t.prototype.chooseFile=function(t){void 0===t&&(t={});var e=t.multiple,r=t.accept,n=document.querySelector(".sk-file-input");return n||((n=document.createElement("input")).type="file",n.accept=c.isArray(r)?r.join(","):r,n.multiple=e,n.style.display="none",n.className="sk-file-input",document.querySelector("body").appendChild(n)),a.default("input").click(),new Promise(function(t){a.default(n).one("change",function(r){var n=r.currentTarget.files,o=[];c.each(n,function(t){t.url=URL.createObjectURL(t),o.push(t)}),t(e?o:n[0])})})},t}();e.CrudRequest=u,window.CrudRequest=u},function(t,e){t.exports=_}]);