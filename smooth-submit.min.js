(function(){function b(c){return new Promise(function(e,d){c.success=e;c.error=d;$.ajax(c)})}function a(d,c){$(d).trigger("aftersubmit",[c])}$(document).on("submit","form.smooth-submit",function(f){f.preventDefault();var d=this;var c=d.smoothSubmitOptions||{};b({type:"POST",url:$(d).attr("action")||c.action,data:new FormData(d),cache:false,processData:false,contentType:false,}).then(function(e){a(d,e)})}).on("click","a.smooth-submit",function(f){f.preventDefault();var d=this;var c=d.smoothSubmitOptions||{};(new Promise(function(g,e){if(c.preConfirm){c.preConfirm().then(g,e)}else{g()}})).then(function(){b({data:c.data,type:c.type,url:$(d).attr("href"),}).then(function(e){a(d,e)})})});$.fn.smoothSubmit=function(c){$.each(this,function(){this.smoothSubmitOptions=c});return this}})();